"use strict";(self.webpackChunkpets=self.webpackChunkpets||[]).push([[165],{3181:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Z});var a=t(2791),c=t(6766),i=(t(5141),t(5294)),l=(t(8476),t(3371)),r=t(8950),o=t.n(r),d=t(1087),n=t(184);const m=()=>(0,n.jsx)("div",{className:"p-2",children:(0,n.jsx)("div",{className:"banner-ske"})}),x=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{const e={locid:localStorage.getItem("locid"),version:l.q4},t=await i.Z.post("".concat(l._n,"/banner"),e);s(t.data),localStorage.setItem("banner_data",JSON.stringify({data:t.data,timestamp:Date.now()}))})(),setTimeout((()=>{r(!1)}),500)}),[]);return(0,n.jsxs)("div",{className:"Banner-Head",children:[(0,n.jsx)(c.default,{infinite:!0,responsive:{tablet:{breakpoint:{max:1024,min:464},items:1,slidesToSlide:1},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}},arrows:!1,showDots:!0,autoPlay:!0,children:e.map((e=>{let s=e.upload_image.split(".").pop().toLowerCase();return"jpeg"===s||"png"===s||"jpg"===s||"webp"===s||"svg"===s?(0,n.jsx)("div",{children:1===e.external_type?(0,n.jsx)(d.rU,{to:e.link,className:"card banner-card",children:(0,n.jsx)("img",{src:"".concat(l.yA,"/banner/").concat(e.upload_image),alt:""})},e.id):(0,n.jsx)(d.rU,{to:"/vendorpage/".concat(e.vendor),className:"card banner-card",children:(0,n.jsx)("img",{onLoad:()=>{},src:"".concat(l.yA,"/banner/").concat(e.upload_image),alt:"",style:{display:t?"none":"block"}})},e.id)}):(0,n.jsx)(n.Fragment,{children:1===e.external_type?(0,n.jsx)(d.rU,{to:e.link,className:"card banner-card",children:(0,n.jsx)(o(),{width:"100%",height:"200px",url:"".concat(l.yA,"/banner/").concat(e.upload_image),playing:!0,loop:!0,controls:!1})},e.id):(0,n.jsx)(d.rU,{to:"/vendorpage/".concat(e.vendor),className:"card banner-card",children:(0,n.jsx)(o(),{width:"100%",height:"200px",url:"".concat(l.yA,"/banner/").concat(e.upload_image),playing:!0,loop:!0,controls:!1})},e.id)})}))}),t?(0,n.jsx)(m,{}):null]})},p=()=>(0,n.jsx)("div",{className:"p-2 r",children:(0,n.jsx)("div",{className:"cat-ske",children:(0,n.jsx)("div",{className:"cat-round"})})}),h=e=>{let{currentloc:s}=e;const[t,r]=(0,a.useState)([]),[o,m]=(0,a.useState)(!0),x={tablet:{breakpoint:{max:1024,min:464},items:4,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:5,slidesToSlide:1}};return(0,a.useEffect)((()=>{(async()=>{const e={locid:s,version:l.q4},t=await i.Z.post("".concat(l._n,"/category"),e);r(t.data),setTimeout((()=>{m(!1)}),500)})()}),[s]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"Cat-head",children:[(0,n.jsx)("hr",{}),t.length>0&&(0,n.jsx)("p",{className:"p0",children:"CATEGORY"})]}),(0,n.jsx)(c.default,{responsive:x,autoPlay:!0,infinite:!0,arrows:!1,children:t.map((e=>(0,n.jsx)("div",{className:"text-center cat-sec  ",style:{display:o?"none":"block"},children:(0,n.jsxs)(d.rU,{to:"/menupage/".concat(e.id),children:[(0,n.jsx)("div",{className:"circle m-auto",children:(0,n.jsx)("img",{src:"".concat(l.yA,"/category/").concat(e.upload_image),alt:""})}),(0,n.jsx)("p",{children:e.category})]})})))}),o?(0,n.jsxs)(c.default,{responsive:x,autoPlay:!0,infinite:!0,arrows:!1,children:[(0,n.jsx)(p,{}),(0,n.jsx)(p,{}),(0,n.jsx)(p,{}),(0,n.jsx)(p,{}),(0,n.jsx)(p,{}),(0,n.jsx)(p,{})]}):null]})};t(4e3);var g=t(4519),u=t(3372),j=t(4420),v=t(9109),N=t(4465),b=t(7632),y=t(7634);const f=e=>{let{click:s,currentloc:t,locid:c}=e;const[r,o]=(0,a.useState)(0),[m,x]=(0,a.useState)([]),[p,h]=(0,a.useState)(!0),[f,_]=(0,a.useState)([]),[S,w]=(0,a.useState)(!1),I=(0,j.I0)(),k=e=>{w(!0),i.Z.post("".concat(l._n,"/detail_product"),{proid:e}).then((e=>{_(e.data[0])}))};(0,a.useEffect)((()=>{!async function(){const e={locid:t,version:l.q4};i.Z.post("".concat(l._n,"/products"),e).then((e=>{x(e.data),setTimeout((()=>{h(!1)}),500)}))}()}),[t,c]);const[C,Z]=(0,a.useState)({}),T=(e,s)=>{Z((t=>({...t,[e]:s})))};return(0,n.jsxs)("div",{style:{paddingBottom:"90px"},children:[(0,n.jsxs)("div",{className:"Cat-head",children:[(0,n.jsx)("hr",{}),m.length>0&&(0,n.jsx)("p",{children:"MOST POPULAR"})]}),(0,n.jsxs)("div",{className:"row",children:[null===m||void 0===m?void 0:m.filter((e=>e.type.includes(s))).map((e=>(0,n.jsx)("div",{className:"col-6",style:{height:p?"90px":"auto"},children:(0,n.jsx)("div",{className:"pro-card p-1",style:{display:p?"none":"block"},children:(0,n.jsxs)("div",{className:"row p-1 border rounded-3",children:[(0,n.jsx)("div",{className:"col-5 col-md-5 ",children:(0,n.jsx)("div",{className:"position-relative rounded pro-img d-flex overflow-hidden",children:(0,n.jsx)("img",{onClick:()=>k(e.id),src:""!==e.upload_image?"".concat(l.yA,"/product/")+e.upload_image:b,alt:""})})}),(0,n.jsxs)("div",{className:"col-7 col-md-7 pro-description position-relative",children:[(0,n.jsxs)("div",{onClick:()=>k(e.id),children:[(0,n.jsx)("h2",{children:e.title}),(0,n.jsx)("p",{children:e.vendor_name}),"1"==e.type?(0,n.jsx)("img",{className:"veg-icon",src:u,alt:""}):(0,n.jsx)("img",{className:"veg-icon",src:g,alt:""}),"2"==e.type?(0,n.jsxs)("p",{className:"disc py-1",children:["Contain Eggs",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}):(0,n.jsx)("p",{})]}),(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsxs)("h2",{children:["Rs. ",Number(e.price)+Number(e.discount_price),"/-"]}),(0,n.jsxs)("div",{className:"add-remmove d-flex align-items-center ",children:[(0,n.jsx)("button",{onClick:()=>{const s=C[e.id]?C[e.id]-1:0;T(e.id,s);const t=(Number(e.cgst)+100)/100,a=Number(e.price)/t,c=Number(e.price)-a,r=(Number(e.sgst)+100)/100,o=Number(e.price)/r,d=Number(e.price)-o,n={cat_id:e.cat_id,pro_id:e.id,pro_name:e.title,price:e.price,p_qty:s,orderid:localStorage.getItem("orderid"),userId:localStorage.getItem("food_id"),v_id:e.v_id,hsnno:e.hsnno,cgst:e.cgst,sgst:e.sgst,cgstamt:c,sgstamt:d};i.Z.post("".concat(l._n,"/addToCart"),n).then((e=>{e.data[0]&&e.data[0].orderid&&localStorage.setItem("orderid",e.data[0].orderid),I((0,v.c)())}))},className:"minus",children:"-"}),(0,n.jsx)("input",{value:C[e.id]||0,className:"text",disabled:!0}),(0,n.jsx)("button",{onClick:()=>{const s=(C[e.id]||0)+1;T(e.id,s);const t=(Number(e.cgst)+100)/100,a=Number(e.price)/t,c=Number(e.price)-a,r=(Number(e.sgst)+100)/100,o=Number(e.price)/r,d=Number(e.price)-o,n={cat_id:e.cat_id,pro_id:e.id,pro_name:e.title,price:e.price,p_qty:s,orderid:localStorage.getItem("orderid"),userId:localStorage.getItem("food_id"),v_id:e.v_id,hsnno:e.hsnno,cgst:e.cgst,sgst:e.sgst,cgstamt:c,sgstamt:d};i.Z.post("".concat(l._n,"/addToCart"),n).then((e=>{e.data[0]&&e.data[0].orderid&&localStorage.setItem("orderid",e.data[0].orderid),I((0,v.c)())}))},className:"plus",children:"+"})]})]}),e.discount_price>0&&(0,n.jsx)("div",{className:"py-2",children:(0,n.jsxs)("span",{className:"discount-price",children:[(0,n.jsx)(y.Z,{fontSize:"16px"}),"Get for ",(0,n.jsxs)("span",{className:"disc-child",children:["Rs. ",e.price,"/-"]})]})})]})]})})}))),(0,n.jsx)("div",{className:"col-12",children:p?(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)(N.Z,{}),(0,n.jsx)(N.Z,{}),(0,n.jsx)(N.Z,{}),(0,n.jsx)(N.Z,{}),(0,n.jsx)(N.Z,{}),(0,n.jsx)(N.Z,{}),(0,n.jsx)(N.Z,{})]}):null}),S?(0,n.jsx)("div",{className:"overlay"}):null,(0,n.jsxs)("div",{className:S?"dish-details show-details positon-relative":"dish-details",children:[S?(0,n.jsx)("div",{className:"close-btn",children:(0,n.jsx)("button",{onClick:()=>{w(!1),_([])},children:"Close \xa0X"})}):null,(0,n.jsxs)("div",{className:"pro-detail-card m-2 p-2",children:[(0,n.jsx)("div",{className:"detail-img d-flex justify-content-center align-items-center",children:(0,n.jsx)("img",{src:""!==f.upload_image?"".concat(l.yA,"/product/")+f.upload_image:b,alt:""})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"d-flex align-items-center pt-3 justify-content-between",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)("h2",{className:"mb-0",children:f.title}),"1"==f.type?(0,n.jsx)("img",{className:"mx-1",style:{width:"17px",height:"17px"},src:u,alt:""}):(0,n.jsx)("img",{className:"mx-1",style:{width:"17px",height:"17px"},src:g,alt:""})]}),(0,n.jsxs)("div",{className:"d-flex align-items-center ",children:[(0,n.jsx)("i",{class:"ri-heart-line text-danger"}),(0,n.jsx)("i",{class:"ri-share-forward-box-fill mx-2 share-icon"})]})]}),(0,n.jsxs)("p",{children:["Rs.",Number(f.price)+Number(f.discount_price),"/-"]}),f.discount_price>0&&(0,n.jsx)("div",{className:"py-2",children:(0,n.jsxs)("span",{className:"discount-price",children:[(0,n.jsx)(y.Z,{fontSize:"16px"}),"Get for ",(0,n.jsxs)("span",{className:"disc-child",children:["Rs. ",f.price,"/-"]})]})}),(0,n.jsx)("p",{className:"disc",children:f.description})]})]})]}),S?(0,n.jsxs)("div",{className:"row cart-footer p-2 ",children:[(0,n.jsxs)("div",{className:" d-flex align-items-center col-md-3 col-3 ",children:[(0,n.jsx)("button",{onClick:()=>{const e=C[f.id]?C[f.id]-1:0;T(f.id,e);const s=(Number(f.cgst)+100)/100,t=Number(f.price)/s,a=Number(f.price)-t,c=(Number(f.sgst)+100)/100,r=Number(f.price)/c,o=Number(f.price)-r,d={cat_id:f.cat_id,pro_id:f.id,pro_name:f.title,price:f.price,p_qty:e,orderid:localStorage.getItem("orderid"),userId:localStorage.getItem("food_id"),v_id:f.v_id,hsnno:f.hsnno,cgst:f.cgst,sgst:f.sgst,cgstamt:a,sgstamt:o};i.Z.post("".concat(l._n,"/addToCart"),d).then((e=>{e.data[0]&&e.data[0].orderid&&localStorage.setItem("orderid",e.data[0].orderid),I((0,v.c)())}))},className:"minus",children:"-"}),(0,n.jsx)("input",{value:C[f.id]||0,className:"text",disabled:!0}),(0,n.jsx)("button",{onClick:()=>{const e=(C[f.id]||0)+1;T(f.id,e);const s=(Number(f.cgst)+100)/100,t=Number(f.price)/s,a=Number(f.price)-t,c=(Number(f.sgst)+100)/100,r=Number(f.price)/c,o=Number(f.price)-r,d={cat_id:f.cat_id,pro_id:f.id,pro_name:f.title,price:f.price,p_qty:e,orderid:localStorage.getItem("orderid"),userId:localStorage.getItem("food_id"),v_id:f.v_id,hsnno:f.hsnno,cgst:f.cgst,sgst:f.sgst,cgstamt:a,sgstamt:o};i.Z.post("".concat(l._n,"/addToCart"),d).then((e=>{e.data[0]&&e.data[0].orderid&&localStorage.setItem("orderid",e.data[0].orderid),I((0,v.c)())}))},className:"plus",children:"+"})]}),(0,n.jsx)("div",{className:"col-md-9 col-9 text-center",children:(0,n.jsxs)(d.rU,{to:"/cart",children:[" ",(0,n.jsx)("button",{children:"View Cart"})]})})]}):null]})]})};var _=t(5403),S=t(7689);t.p;const w=()=>(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"search-ske",children:[(0,n.jsx)("p",{}),(0,n.jsx)("p",{})]})});var I=t(1698),k=t(2570),C=t(8329);const Z=()=>{const[e,s]=(0,a.useState)(""),[t,c]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),[m,p]=(0,a.useState)([]),[j,v]=(0,a.useState)([]),[N,b]=(0,a.useState)(""),[y,Z]=(0,a.useState)(""),[T,E]=(0,a.useState)([]),[U,P]=(0,a.useState)([]),[q,R]=(0,a.useState)(!0),[A,O]=(0,a.useState)(!1),[z,L]=(0,a.useState)(),[G,V]=(0,a.useState)([]);const W=(0,S.s0)();(0,a.useEffect)((()=>{localStorage.getItem("locid"),async function(){const e={loc_id:localStorage.getItem("locid"),version:l.q4};i.Z.post("".concat(l._n,"/get_loc"),e).then((e=>{V(e.data),e.data[0]&&e.data[0].id&&b(e.data[0].id)}))}(),s(localStorage.getItem("foodcat")),"1"==localStorage.getItem("foodcat")?(c(!t),o(!1)):"2"==localStorage.getItem("foodcat")&&(c(!1),o(!r)),""==localStorage.getItem("foodcat")&&c(!1)}),[]);const B=async e=>{const s={loc_id:e||localStorage.getItem("lastloc"),version:l.q4},t=await i.Z.post("".concat(l._n,"/vendorList"),s);Z(localStorage.getItem("lastloc")),p(t.data),setTimeout((()=>{R(!1)}),500)};async function D(){const e={user_id:localStorage.getItem("food_id")};try{const s=await i.Z.post("".concat(l._n,"/getorderstatus"),e);s.data&&(P(s.data.cartstatus),E(s.data.mainorder),console.log(s.data.cartstatus.length),1==s.data.cartstatus[0].orderstatus&&await k.ej.vibrate())}catch(s){console.error("Error fetching order status:",s)}}return(0,a.useEffect)((()=>{(async()=>{const e={myversion:l.q4};i.Z.post("".concat(l._n,"/checkversion"),e).then((e=>{C.Z.get("version")||e.data&&1==e.data.status?L(!1):e.data&&0==e.data.status&&L(!0)}))})()}),[]),(0,a.useEffect)((()=>{setTimeout((()=>{B()}),500)}),[N]),(0,a.useEffect)((()=>{D();const e=setInterval((()=>{D()}),1e4);return()=>clearInterval(e)}),[]),(0,n.jsxs)("div",{children:[A&&(0,n.jsx)(I.Z,{}),(0,n.jsx)("div",{className:"order-status  animate__animated animate__fadeInLeft",children:U.some((e=>4==e.orderstatus))?(0,n.jsx)(n.Fragment,{}):U.length>1?(0,n.jsx)(d.rU,{to:"/orderhistory",className:"text-light",children:(0,n.jsxs)("div",{className:"d-flex align-items-center bg-danger",children:[(0,n.jsxs)("p",{className:"text-light ",style:{fontSize:"18px",fontWeight:"900"},children:[(0,n.jsx)("b",{className:"blink"}),"Sum of your item is ready"]}),(0,n.jsx)("i",{class:"bi bi-arrow-right"})]})}):U.length>0?(0,n.jsx)(d.rU,{to:"/orderhistory",className:"text-light",children:(0,n.jsxs)("div",{className:"d-flex align-items-center bg-danger",children:[(0,n.jsx)("p",{className:"text-light",style:{fontSize:"18px",fontWeight:"900"},children:(0,n.jsxs)("b",{className:"blink",children:[" ",U[0].pname," is Ready "]})}),(0,n.jsx)("i",{class:"bi bi-arrow-right"})]})}):"placed"==T?(0,n.jsx)(d.rU,{to:"/orderhistory",className:"text-light",children:(0,n.jsxs)("div",{className:"d-flex align-items-center bg-success",children:[(0,n.jsxs)("p",{className:"text-light ",style:{fontSize:"18px",fontWeight:"900"},children:[(0,n.jsx)("b",{className:"blink"}),"Order is Placed"]}),(0,n.jsx)("i",{class:"bi bi-arrow-right"})]})}):"processing"==T?(0,n.jsx)(d.rU,{to:"/orderhistory",className:"text-light",children:(0,n.jsxs)("div",{className:"d-flex align-items-center bg-warning",children:[(0,n.jsxs)("p",{className:"text-light ",style:{fontSize:"18px",fontWeight:"900"},children:[(0,n.jsx)("b",{className:"blink"}),"Processing.."]}),(0,n.jsx)("i",{class:"bi bi-arrow-right"})]})}):(0,n.jsx)(n.Fragment,{})}),(0,n.jsx)(x,{}),(0,n.jsxs)("div",{className:"px-3 pt-1 dash-search",children:[(0,n.jsxs)("div",{style:{display:q?"none":"block"},children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-7 col-7 position-relative",children:(0,n.jsx)("select",{onChange:e=>{B(e.target.value),localStorage.setItem("lastloc",e.target.value)},value:localStorage.getItem("lastloc"),className:"border-yellow p-1 w-100",children:null===G||void 0===G?void 0:G.map((e=>(0,n.jsx)("option",{value:e.id,children:e.location},e.id)))})}),(0,n.jsx)("div",{className:"col-md-5 col-5 ",children:(0,n.jsxs)("select",{className:"border-yellow w-100 px-1 py-1 mx-1",onChange:e=>{(async e=>{O(!0);const s=await i.Z.post("".concat(l._n,"/vendorProducts"),{vendorId:e});v(s.data),s.data&&(W("/vendorpage/".concat(e)),O(!1))})(e.target.value)},children:[(0,n.jsx)("option",{children:"SELECT VENDOR"}),null===m||void 0===m?void 0:m.map((e=>(0,n.jsxs)("option",{value:e.id,children:[" ",(0,n.jsxs)(d.rU,{to:"/menupage/".concat(e.id),children:[" ",e.company_name]})]},e.id)))]})})]}),(0,n.jsxs)("div",{className:"row py-2",children:[(0,n.jsxs)("div",{className:"col-md-7 col-7 position-relative",children:[(0,n.jsxs)(d.rU,{to:"/searchpage/".concat(N,"/").concat(y),children:["  ",(0,n.jsx)("input",{className:"border-yellow p-1",type:"search",placeholder:"Search (eg. Pav Bhaji)"})]}),(0,n.jsx)(_.Z,{sx:{color:"lightgray"},className:"search-icon"})]}),(0,n.jsxs)("div",{className:"col-md-5 col-5 row align-items-center",children:[(0,n.jsx)("div",{className:"col-md-6 col-6 text-center px-1",children:(0,n.jsxs)("button",{style:{color:"green"},value:"1",onClick:e=>(e=>{c(!t),o(!1),t?(s(""),localStorage.setItem("foodcat","")):(s(e.target.value),localStorage.setItem("foodcat",e.target.value))})(e),className:!1===t?"border-yellow p-1 w-100 ":"border-yellow p-1 back-yellow w-100",children:[(0,n.jsx)("img",{style:{width:"10px",paddingRight:"1px"},src:u,alt:""}),"VEG"]})}),(0,n.jsx)("div",{className:"col-md-6 col-6 text-center",children:(0,n.jsxs)("button",{style:{color:"red"},value:"2",onClick:e=>(e=>{c(!1),o(!r),s(e.target.value),r?(s(""),localStorage.setItem("foodcat","")):(s(e.target.value),localStorage.setItem("foodcat",e.target.value))})(e),className:!1===r?"border-yellow p-1 w-100 ":"border-yellow p-1 back-yellow w-100",children:[(0,n.jsx)("img",{style:{width:"10px",paddingRight:"1px"},src:g,alt:""}),"NON VEG"]})})]})]})]}),q?(0,n.jsx)(w,{}):null]}),z&&(0,n.jsx)("div",{className:"version-update",children:(0,n.jsxs)("div",{className:"update-pop",style:{padding:"20px",position:"absolute"},children:[(0,n.jsx)("p",{children:"Please download our latest version.."}),(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("button",{onClick:()=>{L(!1),C.Z.set("version",1,{expires:1/24})},children:"Cancel"}),(0,n.jsx)(d.rU,{to:"https://play.google.com/store/apps/details?id=com.umifood.app",children:(0,n.jsx)("button",{style:{background:"#febf10",color:"#fff"},children:"Update"})})]})]})}),z&&(0,n.jsx)("div",{className:"update-overlay"}),(0,n.jsx)(h,{currentloc:y}),(0,n.jsx)(f,{currentloc:y,locid:N,click:e,vendorProducts:j})]})}}}]);
//# sourceMappingURL=165.9d52c092.chunk.js.map